# ============================================================================
# AutoDocIA - Configuração de Ambiente (v2.0 - Multi-SGBD)
# ============================================================================

# ----------------------------------------------------------------------------
# Flask
# ----------------------------------------------------------------------------
FLASK_ENV=production
SECRET_KEY=your-secret-key-here-change-in-production
DEBUG=False

# ----------------------------------------------------------------------------
# Banco de Dados (Multi-SGBD)
# ----------------------------------------------------------------------------
# PostgreSQL (recomendado para produção)
DATABASE_URL=postgresql://user:password@localhost:5432/autodoc_ia

# MySQL/MariaDB
# DATABASE_URL=mysql://user:password@localhost:3306/autodoc_ia

# SQL Server (via pyodbc)
# DATABASE_URL=mssql+pyodbc://user:password@localhost:1433/autodoc_ia?driver=ODBC+Driver+17+for+SQL+Server

# SQLite (desenvolvimento)
# DATABASE_URL=sqlite:///./autodoc_ia.db

# Configurações de Pool de Conexões
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_RECYCLE=3600
DB_POOL_PRE_PING=true
DB_TIMEOUT_SECONDS=10

# ----------------------------------------------------------------------------
# OpenAI (opcional para modo offline)
# ----------------------------------------------------------------------------
OPENAI_API_KEY=sk-proj-your-api-key-here
OPENAI_API_BASE=https://api.openai.com/v1
EMBEDDINGS_PROVIDER=openai

# ----------------------------------------------------------------------------
# RAG e Base de Conhecimento
# ----------------------------------------------------------------------------
RAG_FAISS_PATH=rag/index/faiss
RAG_TOPK=5
RAG_MIN_DOCS=2
RAG_MIN_SCORE=0.5
W_LEX=0.5
W_SEM=0.5

# Configurações de Chunking
CHUNK_SIZE=1000
CHUNK_OVERLAP=150

# Configurações de Cache de Embeddings
EMBED_CACHE_DIR=./cache/embeddings

# Modo de ingestão: 'pdf' ou 'json'
INGEST_MODE=pdf

# ----------------------------------------------------------------------------
# LexML (Normas Legais)
# ----------------------------------------------------------------------------
LEXML_TIMEOUT_SECONDS=8
LEGAL_CACHE_TTL_DAYS=7

# ----------------------------------------------------------------------------
# Segurança
# ----------------------------------------------------------------------------
# CORS: lista de origens permitidas (separadas por vírgula)
# Deixe vazio para bloquear todas as origens externas
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5000

# Rate Limiting
RATE_LIMIT_PER_MINUTE=30
RATE_LIMIT_PER_HOUR=500
RATE_LIMIT_PER_DAY=2000
RATE_LIMIT_STORAGE_URI=memory://

# Limite de tamanho de requisição (MB)
REQUEST_MAX_MB=5

# Token para endpoint /metrics (opcional)
METRICS_TOKEN=your-metrics-token-here

# Configurações de Segurança (v2.0.0)
XSS_PROTECTION=true
SANITIZE_HTML=true

# ----------------------------------------------------------------------------
# Logging
# ----------------------------------------------------------------------------
LOG_LEVEL=INFO

# ----------------------------------------------------------------------------
# Servidor (Desenvolvimento)
# ----------------------------------------------------------------------------
HOST=0.0.0.0
PORT=5002

# ----------------------------------------------------------------------------
# Gunicorn (Produção)
# ----------------------------------------------------------------------------
GUNICORN_WORKERS=4
GUNICORN_THREADS=2
GUNICORN_BIND=0.0.0.0:5000
GUNICORN_TIMEOUT=120

# ----------------------------------------------------------------------------
# Painel Administrativo
# ----------------------------------------------------------------------------
ADMIN_USER=admin
ADMIN_PASS=admin123

# ----------------------------------------------------------------------------
# Sessão (v2.0.0)
# ----------------------------------------------------------------------------
SESSION_PERSISTENCE=true
SESSION_TIMEOUT=3600

# ----------------------------------------------------------------------------
# Parser (v2.0.0)
# ----------------------------------------------------------------------------
JSON_PARSER_RELAXED=true
FALLBACK_SUICIDA_DISABLED=true
